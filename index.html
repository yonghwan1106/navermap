<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, user-scalable=no">
    <title>네이버 맵 API v3 테스트 - 경기도 상권정보</title>
    
    <script type="text/javascript" src="https://oapi.map.naver.com/openapi/v3/maps.js?ncpKeyId=11pz3tdpch&callback=initMap"></script>
    
    <style type="text/css">
        html, body {
            margin: 0;
            padding: 0;
            width: 100%;
            height: 100%;
        }
        #map {
            width: 100%;
            height: 500px; /* 지도의 높이 설정 */
            background-color: #f0f0f0; /* 지도가 로드되기 전 배경색 */
        }
    </style>
</head>
<body>
    <div id="map"></div>

    <script type="text/javascript">
        // 네이버 지도 API 인증 실패 시 호출될 함수 (디버깅에 유용)
        window.navermap_authFailure = function () {
            console.error("네이버 지도 API 인증에 실패했습니다. 클라이언트 ID 또는 서비스 URL 설정을 확인해주세요.");
            alert("지도 로딩에 실패했습니다. 관리자에게 문의하거나 콘솔을 확인해주세요.");
        };

        // 네이버 지도 API 로드가 완료되면 호출될 콜백 함수
        function initMap() {
            console.log("네이버 지도 API 로드 완료. 지도 초기화를 시작합니다.");

            var mapOptions = {
                center: new naver.maps.LatLng(37.24108, 127.17795), // 용인시 중심 좌표 (예시)
                zoom: 12 // 초기 줌 레벨
            };

            var map = new naver.maps.Map('map', mapOptions);
            console.log("네이버 지도가 성공적으로 생성되었습니다!");

            // 지도가 완전히 로드되고 표시된 후 메시지를 보기 위한 이벤트 리스너 (선택 사항)
            naver.maps.Event.once(map, 'init', function() {
                console.log("지도 초기화 및 표시 완료!");
            });
        }
    </script>
</body>
</html>
